(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{6247:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn-dropdown",{attrs:{flat:"",label:t.name}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){t.modalEmpresa=!0}}},[a("q-item-section",[a("q-item-label",[t._v("Empresas")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.sair()}}},[a("q-item-section",[a("q-item-label",[t._v("Sair")])],1)],1)],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"rotate","transition-hide":"rotate"},model:{value:t.modalEmpresa,callback:function(e){t.modalEmpresa=e},expression:"modalEmpresa"}},[a("q-card",{staticClass:"my-card"},[a("q-card-section",{staticClass:"bg-primary text-white"},[a("div",{staticClass:"text-h6"},[t._v("Bem vindo ao HDOC")]),a("div",{staticClass:"text-subtitle2"},[t._v("Por favor selecione a empresa que deseja visualiza os arquivos!")])]),a("q-select",{attrs:{label:"Scale","transition-show":"scale","transition-hide":"scale",filled:"",options:t.options},model:{value:t.getEmpresa,callback:function(e){t.getEmpresa=e},expression:"getEmpresa"}}),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Confirma",color:"primary"},on:{click:t.SelectEmpresa}})],1)],1)],1)],1)},s=[],i=(a("28a5"),a("d624")),r=a.n(i),n=a("9530"),c=a.n(n);function l(){var t=r()(["\n            mutation {\n              logout {\n                status\n                message\n              }\n            }\n          "]);return l=function(){return t},t}var p={data:function(){return{modalEmpresa:!1,getEmpresa:null}},methods:{SelectEmpresa:function(){var t=this,e=this.$store.getters["auth/getEmpresas"].filter((function(e){return e.nomeFantasia==t.getEmpresa}))[0];this.$store.dispatch("auth/setEmpresaAtual",e),1==this.admin||1==this.responsavel?this.$axios.get("/repositorio/indexTree/"+e.id).then((function(e){t.$store.dispatch("pastas/setPastas",e.data)})).catch((function(t){console.log(t)})):this.$axios.get("repositorio/gruposTree/"+this.$store.getters["auth/getId"]+"/"+e.id).then((function(e){t.$store.dispatch("pastas/setPastas",e.data)})).catch((function(t){console.log(t)}))},sair:function(){this.$apollo.mutate({mutation:c()(l())}).then((function(t){localStorage.removeItem("token"),location.reload()})).catch((function(t){localStorage.removeItem("token"),location.reload()}))}},computed:{options:function(){return this.$store.getters["auth/getEmpresas"].filter((function(t){return"Inativo"!=t.status})).filter((function(t){return"Suspenso"!=t.status||new Date(t.dataSuspensao.split("-"))<new Date})).map((function(t){return t.nomeFantasia}))},name:function(){return this.$store.getters["auth/getName"]},responsavel:function(){return this.$store.getters["auth/isResponsavel"]},admin:function(){return this.$store.getters["auth/isAdmin"]}},mounted:function(){1==this.$store.getters["auth/getEmpresas"].length?(this.getEmpresa=this.$store.getters["auth/getEmpresas"][0].nomeFantasia,this.SelectEmpresa()):this.$store.getters["auth/getEmpresaAtual"]?(this.getEmpresa=this.$store.getters["auth/getEmpresaAtual"].nomeFantasia,this.SelectEmpresa()):this.modalEmpresa=!0}},u=p,m=a("2877"),d=a("eebe"),h=a.n(d),f=a("f20b"),g=a("1c1c"),v=a("66e5"),b=a("4074"),q=a("0170"),E=a("24e8"),$=a("f09f"),x=a("a370"),w=a("ddd8"),Q=a("eb85"),C=a("4b7e"),U=a("9c40"),k=a("7f67"),S=Object(m["a"])(u,o,s,!1,null,null,null);e["a"]=S.exports;h()(S,"components",{QBtnDropdown:f["a"],QList:g["a"],QItem:v["a"],QItemSection:b["a"],QItemLabel:q["a"],QDialog:E["a"],QCard:$["a"],QCardSection:x["a"],QSelect:w["a"],QSeparator:Q["a"],QCardActions:C["a"],QBtn:U["a"]}),h()(S,"directives",{ClosePopup:k["a"]})},7150:function(t,e,a){"use strict";var o=a("81c5"),s=a.n(o);s.a},"81c5":function(t,e,a){},"95fc":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"bg-grey-1",attrs:{view:"hHh lpR fFf"}},[a("Spinner"),a("q-header",{staticClass:"bg-blue-6 text-white-8 q-py-xs",attrs:{elevated:"","height-hint":"58"}},[a("q-toolbar",[a("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),t.$q.screen.gt.xs?a("q-btn",{staticClass:"q-ml-xs",attrs:{flat:"","no-caps":"","no-wrap":""}},[a("q-icon",{attrs:{name:"img:statics/logo/HDoc.jpg",size:"40px"}}),a("q-toolbar-title",{staticClass:"text-weight-bold",attrs:{shrink:""}},[t._v("HDOC")])],1):t._e(),a("q-space"),a("div",{staticClass:"q-gutter-sm row items-center no-wrap"},[a("Opcoes",{attrs:{selected:t.selected},on:{UpdateUser:function(e){t.UpdateUser=e},UpdateGrupo:function(e){t.UpdateGrupo=e},UpdateEmpresa:function(e){t.UpdateEmpresa=e}}}),a("Nome")],1)],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-2",width:240},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-scroll-area",{staticClass:"fit"},[a("q-list",{attrs:{padding:""}},[a("q-expansion-item",{attrs:{group:"principal",flat:"",icon:"mdi-security","header-class":"text-blue-6",label:"Segurança"},on:{click:t.onMainClick}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/documentos"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{staticClass:"text-blue-6",attrs:{name:"mdi-archive"}})],1),a("q-item-section",[a("q-item-label",[t._v("Documentos")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/cadastro"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{staticClass:"text-blue-6",attrs:{name:"mdi-folder-account"}})],1),a("q-item-section",[a("q-item-label",[t._v("Cadastro")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/dashboard"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{staticClass:"text-blue-6",attrs:{name:"mdi-chart-pie"}})],1),a("q-item-section",[a("q-item-label",[t._v("Dashboard")])],1)],1)],1)],1),a("q-separator",{staticClass:"q-my-md"}),a("q-list",[1==t.admin?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/seguranca/empresa"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"mdi-factory"}})],1),a("q-item-section",[t._v("Empresa")])],1):t._e(),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/seguranca/usuario"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"mdi-account"}})],1),a("q-item-section",[t._v("Usuario")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/seguranca/grupos"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"mdi-account-plus"}})],1),a("q-item-section",[t._v("Grupos")])],1)],1)],1)],1)],1),a("q-page-container",[a("router-view",{attrs:{UpdateUser:t.UpdateUser,UpdateGrupo:t.UpdateGrupo,UpdateEmpresa:t.UpdateEmpresa},on:{selected:function(e){t.selected=e}}})],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.selected.length>0?a("q-btn-group",{attrs:{flat:""}},[a("q-btn",{attrs:{icon:"mdi-pencil"},on:{click:t.edit}},[a("q-tooltip",[t._v("Editar")])],1),a("q-btn",{attrs:{icon:"mdi-delete"},on:{click:t.excluir}},[a("q-tooltip",[t._v("Excluir")])],1)],1):t._e()},r=[],n=(a("7f7f"),a("d624")),c=a.n(n),l=(a("28a5"),a("9530")),p=a.n(l);function u(){var t=c()(["\n              mutation($id: ID!) {\n                deleteGrupo(id: $id) {\n                  nome\n                }\n              }\n            "]);return u=function(){return t},t}function m(){var t=c()(["\n              mutation($id: ID!) {\n                deleteUser(id: $id) {\n                  name\n                }\n              }\n            "]);return m=function(){return t},t}function d(){var t=c()(["\n              mutation($id: ID!) {\n                deleteEmpresa(id: $id) {\n                  nomeFantasia\n                }\n              }\n            "]);return d=function(){return t},t}var h={name:"Opcoes",props:["selected"],data:function(){return{}},methods:{edit:function(){var t=this.$router.currentRoute.path.split("/");t.indexOf("empresa")>-1?this.$router.push({name:"EditEmpresa",params:{id:this.selected[0].id}}):t.indexOf("usuario")>-1?this.$router.push({name:"EditUsuario",params:{id:this.selected[0].id}}):t.indexOf("grupos")>-1&&this.$router.push({name:"EditGrupos",params:{id:this.selected[0].id}})},excluir:function(){var t=this,e=this.$router.currentRoute.path.split("/");this.$emit("UpdateUser",!1),this.$emit("UpdateEmpresa",!1),this.$emit("UpdateGrupo",!1),e.indexOf("empresa")>-1?this.$apollo.mutate({mutation:p()(d()),variables:{id:this.selected[0].id}}).then((function(e){t.$q.notify({color:"green",textColor:"white",message:"Empresa ".concat(e.data.deleteEmpresa.nomeFantasia," foi inativado!"),position:"bottom-left",timeout:5e3*Math.random()+3e3}),t.$emit("UpdateEmpresa",!0)})).catch((function(e){console.log("Error! ",e),t.$q.notify({color:"red",textColor:"white",message:"Error ão inativar empresa!",position:"bottom-left",timeout:5e3*Math.random()+3e3})})):e.indexOf("usuario")>-1?this.$apollo.mutate({mutation:p()(m()),variables:{id:this.selected[0].id}}).then((function(e){t.$q.notify({color:"green",textColor:"white",message:"Usuario ".concat(e.data.deleteUser.name," foi inativado!"),position:"bottom-left",timeout:5e3*Math.random()+3e3}),t.$emit("UpdateUser",!0)})).catch((function(e){console.log("Error! ",e),t.$q.notify({color:"red",textColor:"white",message:"Error ão inativar usuario!",position:"bottom-left",timeout:5e3*Math.random()+3e3})})):e.indexOf("grupos")>-1&&this.$apollo.mutate({mutation:p()(u()),variables:{id:this.selected[0].id}}).then((function(e){t.$q.notify({color:"green",textColor:"white",message:"Grupo ".concat(e.data.deleteGrupo.nome," foi excluido com Sucesso!"),position:"bottom-left",timeout:5e3*Math.random()+3e3}),t.$emit("UpdateGrupo",!0)})).catch((function(e){console.log("Error! ",e),t.$q.notify({color:"red",textColor:"white",message:"Error ão excluir grupo!",position:"bottom-left",timeout:5e3*Math.random()+3e3})}))}}},f=h,g=a("2877"),v=a("eebe"),b=a.n(v),q=a("e7a9"),E=a("9c40"),$=a("05c0"),x=Object(g["a"])(f,i,r,!1,null,null,null),w=x.exports;b()(x,"components",{QBtnGroup:q["a"],QBtn:E["a"],QTooltip:$["a"]});var Q=a("6247"),C=a("aca5"),U={name:"Documentos",components:{Opcoes:w,Nome:Q["a"],Spinner:C["a"]},data:function(){return{leftDrawerOpen:!1,modalEmpresa:!0,getEmpresa:null,repositorios:"",selected:[],UpdateUser:!1,UpdateGrupo:!1,UpdateEmpresa:!1}},computed:{admin:function(){return this.$store.getters["auth/isAdmin"]},options:function(){return this.$store.getters["auth/getEmpresas"].map((function(t){return t.nome_fantasia}))},grupo:function(){return this.$store.getters["auth/getGrupo"]}},methods:{SelectEmpresa:function(){var t=this,e=this.$store.getters["auth/getEmpresas"].filter((function(e){return e.nome_fantasia==t.getEmpresa}))[0];this.$store.dispatch("auth/setEmpresaAtual",e);var a={headers:{Authorization:"Bearer "+this.$store.getters["auth/getToken"],"Content-Type":"application/json",Accept:"application/json"}};this.$axios.get("/repositorio/indexTree/"+e.id,a).then((function(e){t.repositorios=e.data})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this,e={headers:{Authorization:"Bearer "+this.$store.getters["auth/getToken"],"Content-Type":"application/json",Accept:"application/json"}};this.$axios.get("/usuario/"+this.$store.getters["auth/getId"],e).then((function(e){t.$store.dispatch("auth/setEmpresas",e.data.empresas)})).catch((function(t){console.log(t)}))}},k=U,S=(a("7150"),a("4d5a")),_=a("e359"),y=a("65c6"),D=a("0016"),O=a("6ac5"),I=a("2c91"),G=a("9404"),A=a("4983"),N=a("1c1c"),T=a("3b73"),j=a("66e5"),B=a("4074"),M=a("0170"),F=a("eb85"),L=a("09e3"),P=a("7f67"),z=a("714f"),H=Object(g["a"])(k,o,s,!1,null,null,null);e["default"]=H.exports;b()(H,"components",{QLayout:S["a"],QHeader:_["a"],QToolbar:y["a"],QBtn:E["a"],QIcon:D["a"],QToolbarTitle:O["a"],QSpace:I["a"],QDrawer:G["a"],QScrollArea:A["a"],QList:N["a"],QExpansionItem:T["a"],QItem:j["a"],QItemSection:B["a"],QItemLabel:M["a"],QSeparator:F["a"],QPageContainer:L["a"]}),b()(H,"directives",{ClosePopup:P["a"],Ripple:z["a"]})},aca5:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("q-spinner-gears",{attrs:{size:"100px",dark:!0,color:"primary"}})],1)},s=[],i={name:"Spinner",data:function(){return{}},computed:{visible:function(){return this.$store.getters["layout/getVisibleSpinner"]}}},r=i,n=(a("e00e"),a("2877")),c=a("eebe"),l=a.n(c),p=a("24e8"),u=a("74f7"),m=a("cf57"),d=Object(n["a"])(r,o,s,!1,null,"55b020f8",null);e["a"]=d.exports;l()(d,"components",{QDialog:p["a"],QInnerLoading:u["a"],QSpinnerGears:m["a"]})},e00e:function(t,e,a){"use strict";var o=a("f116"),s=a.n(o);s.a},f116:function(t,e,a){}}]);